<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36" version="29.2.6">
  <diagram name="第 1 页" id="koUY-GKG6jGSpLQKiAwZ">
    <mxGraphModel dx="815" dy="431" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-1" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="用户请求&#xa;(User Request)" vertex="1">
          <mxGeometry height="3550" width="150" x="20" y="20" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-2" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="recall-service&#xa;(HighExposureLowConversionFilter)" vertex="1">
          <mxGeometry height="3550" width="270" x="220" y="20" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-3" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="实验平台&#xa;(Experiment Platform)" vertex="1">
          <mxGeometry height="3550" width="174" x="643" y="20" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-4" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="recall-redis&#xa;(Recall Redis)" vertex="1">
          <mxGeometry height="3550" width="150" x="867" y="20" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-5" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="recall-job&#xa;(LowValueRegionProcessor)" vertex="1">
          <mxGeometry height="3550" width="214" x="1067" y="20" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-6" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Data Redis&#xa;(Data Redis)" vertex="1">
          <mxGeometry height="3550" width="150" x="1708" y="20" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-7" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="告警系统&#xa;(Alert System)" vertex="1">
          <mxGeometry height="3550" width="150" x="1908" y="20" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-8" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="数开(数据侧)" vertex="1">
          <mxGeometry height="3550" width="150" x="2108" y="20" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-9" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=0" value="" vertex="1">
          <mxGeometry height="463" width="470" x="1748" y="95" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-10" parent="ZkTm3aSHAklMv9n6L5dm-9" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="" vertex="1">
          <mxGeometry height="20" width="470" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-11" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="201" width="907" x="1088" y="1012" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-12" parent="ZkTm3aSHAklMv9n6L5dm-11" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[获取到低价值广告]" vertex="1">
          <mxGeometry height="20" width="877" x="30" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-13" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="315" width="769" x="1025" y="1318" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-14" parent="ZkTm3aSHAklMv9n6L5dm-13" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[存在上一版本数据（上一时间戳）]" vertex="1">
          <mxGeometry height="20" width="739" x="30" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-15" parent="ZkTm3aSHAklMv9n6L5dm-13" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[不存在上一版本数据]" vertex="1">
          <mxGeometry height="4" width="769" y="225" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-16" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="420" width="789" x="1015" y="1223" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-17" parent="ZkTm3aSHAklMv9n6L5dm-16" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[低价值广告数量 &gt; 广告库数量 × 5%]" vertex="1">
          <mxGeometry height="20" width="759" x="30" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-18" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=0" value="" vertex="1">
          <mxGeometry height="1207" width="1097" x="907" y="568" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-19" parent="ZkTm3aSHAklMv9n6L5dm-18" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="" vertex="1">
          <mxGeometry height="20" width="1097" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-20" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="328" width="282" x="215" y="2475" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-21" parent="ZkTm3aSHAklMv9n6L5dm-20" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[广告ID+地区在低价值集合中]" vertex="1">
          <mxGeometry height="20" width="252" x="30" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-22" parent="ZkTm3aSHAklMv9n6L5dm-20" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[广告ID+地区不在低价值集合中-&#xa;]" vertex="1">
          <mxGeometry height="4" width="282" y="154" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-23" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=40" value="loop" vertex="1">
          <mxGeometry height="487" width="302" x="205" y="2326" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-24" parent="ZkTm3aSHAklMv9n6L5dm-23" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[遍历每个广告]" vertex="1">
          <mxGeometry height="20" width="262" x="40" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-25" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="866" width="758" x="195" y="2052" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-26" parent="ZkTm3aSHAklMv9n6L5dm-25" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[switch == Y (启用过滤)]" vertex="1">
          <mxGeometry height="20" width="728" x="30" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-27" parent="ZkTm3aSHAklMv9n6L5dm-25" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[switch == N (关闭过滤)]" vertex="1">
          <mxGeometry height="4" width="758" y="776" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-28" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=0" value="" vertex="1">
          <mxGeometry height="1195" width="917" x="60" y="1785" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-29" parent="ZkTm3aSHAklMv9n6L5dm-28" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="" vertex="1">
          <mxGeometry height="20" width="917" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-30" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="200" width="173" x="1089" y="3059" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-31" parent="ZkTm3aSHAklMv9n6L5dm-30" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Data Redis数据异常&#xa;（低价值广告超过阈值）]" vertex="1">
          <mxGeometry height="20" width="143" x="30" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-32" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="196" width="316" x="1016" y="3269" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-33" parent="ZkTm3aSHAklMv9n6L5dm-32" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Data Redis网络异常]" vertex="1">
          <mxGeometry height="20" width="286" x="30" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-34" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=0" value="" vertex="1">
          <mxGeometry height="485" width="812" x="1006" y="2990" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-35" parent="ZkTm3aSHAklMv9n6L5dm-34" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="" vertex="1">
          <mxGeometry height="20" width="812" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-36" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-8" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="ZkTm3aSHAklMv9n6L5dm-6" value="写入版本列表&#xa;KEY: ad:show:recall:low:conversion:version:list&#xa;TYPE: LIST, TTL: 72h&#xa;VALUE: [timestamp1, timestamp2, ...]">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1995" y="259" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-37" parent="ZkTm3aSHAklMv9n6L5dm-36" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="1" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="193.5" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-38" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-8" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="ZkTm3aSHAklMv9n6L5dm-6" value="写入广告ID集合&#xa;KEY: ad:show:recall:low:conversion:{timestamp}:ad:set&#xa;TYPE: SET, TTL: 24h&#xa;VALUE: [adid1, adid2, ...]">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1995" y="374" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-39" parent="ZkTm3aSHAklMv9n6L5dm-38" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="2" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="193.5" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-40" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-8" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="ZkTm3aSHAklMv9n6L5dm-6" value="写入地区集合&#xa;KEY: ad:show:recall:low:conversion:{timestamp}:{adId}:region:set&#xa;TYPE: SET, TTL: 24h&#xa;VALUE: [region1, region2, ...]">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2021" y="489" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-41" parent="ZkTm3aSHAklMv9n6L5dm-40" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="3" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="219.5" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-42" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="ZkTm3aSHAklMv9n6L5dm-6" value="获取最新版本（时间戳）&#xa;LRANGE ad:show:recall:low:conversion:version:list">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1487" y="690" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-43" parent="ZkTm3aSHAklMv9n6L5dm-42" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="4" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="-312" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-44" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="ZkTm3aSHAklMv9n6L5dm-5" value="返回时间戳列表 [timestamp1, timestamp2, timestamp3]">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1490" y="742" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-45" parent="ZkTm3aSHAklMv9n6L5dm-44" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="5" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="298" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-46" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="ZkTm3aSHAklMv9n6L5dm-6" value="获取低价值广告集合&#xa;SMEMBERS ad:show:recall:low:conversion:{latestTimestamp}:ad:set">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1487" y="815" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-47" parent="ZkTm3aSHAklMv9n6L5dm-46" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="6" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="-312" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-48" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="ZkTm3aSHAklMv9n6L5dm-5" value="返回广告ID集合 {adid1, adid2, ...}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1490" y="867" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-49" parent="ZkTm3aSHAklMv9n6L5dm-48" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="7" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="298" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-50" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="ZkTm3aSHAklMv9n6L5dm-6" value="获取地区集合&#xa;SMEMBERS ad:show:recall:low:conversion:{latestTimestamp}:{adId}:region:set">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1487" y="940" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-51" parent="ZkTm3aSHAklMv9n6L5dm-50" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="8" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="-312" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-52" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="ZkTm3aSHAklMv9n6L5dm-5" value="返回地区集合 {region1, region2, ...}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1490" y="992" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-53" parent="ZkTm3aSHAklMv9n6L5dm-52" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="9" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="298" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-54" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-5" style="curved=1;endArrow=block;rounded=0;" target="ZkTm3aSHAklMv9n6L5dm-5" value="记录日志 LOW_VALUE">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1225" y="1090" />
              <mxPoint x="1225" y="1120" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-55" parent="ZkTm3aSHAklMv9n6L5dm-54" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="10" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="-57" y="-22" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-56" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="ZkTm3aSHAklMv9n6L5dm-7" value="发送告警到群&#xa;（低价值广告列表）">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1587" y="1193" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-57" parent="ZkTm3aSHAklMv9n6L5dm-56" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="11" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="-412" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-58" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="ZkTm3aSHAklMv9n6L5dm-6" value="获取上一版本数据&#xa;SMEMBERS ad:show:recall:low:conversion:{prevTimestamp}:ad:set">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1487" y="1417" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-59" parent="ZkTm3aSHAklMv9n6L5dm-58" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="12" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="-312" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-60" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="ZkTm3aSHAklMv9n6L5dm-5" value="返回上一版本广告集合">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1490" y="1469" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-61" parent="ZkTm3aSHAklMv9n6L5dm-60" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="13" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="298" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-62" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="ZkTm3aSHAklMv9n6L5dm-4" value="写入数据">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1070" y="1706" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-63" parent="ZkTm3aSHAklMv9n6L5dm-62" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="14" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="109.5" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-64" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-1" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="ZkTm3aSHAklMv9n6L5dm-2" value="广告召回请求">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="234" y="1886" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-65" parent="ZkTm3aSHAklMv9n6L5dm-64" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="15" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="-137.5" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-66" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="ZkTm3aSHAklMv9n6L5dm-3" value="获取实验分流结果&#xa;实验层: low_value_ad_exp">
          <mxGeometry relative="1" x="0.0004" as="geometry">
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="551" y="1959" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-67" parent="ZkTm3aSHAklMv9n6L5dm-66" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="16" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="-195" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-68" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="ZkTm3aSHAklMv9n6L5dm-2" value="返回实验配置&#xa;{switch: Y/N}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="554" y="2032" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-69" parent="ZkTm3aSHAklMv9n6L5dm-68" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="17" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="181" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-70" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="ZkTm3aSHAklMv9n6L5dm-4" value="读取低价值广告数据&#xa;（使用预加载的数据）">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="657" y="2151" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-71" parent="ZkTm3aSHAklMv9n6L5dm-70" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="18" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="-301" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-72" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="ZkTm3aSHAklMv9n6L5dm-2" value="返回低价值广告集合">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="660" y="2203" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-73" parent="ZkTm3aSHAklMv9n6L5dm-72" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="19" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="287" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-74" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-2" style="curved=1;endArrow=block;rounded=0;" target="ZkTm3aSHAklMv9n6L5dm-2" value="LowValueConversionFilter&#xa;开始过滤">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="406" y="2276" />
              <mxPoint x="406" y="2306" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-75" parent="ZkTm3aSHAklMv9n6L5dm-74" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="20" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="-57" y="-22" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-76" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-2" style="curved=1;endArrow=block;rounded=0;" target="ZkTm3aSHAklMv9n6L5dm-2" value="检查广告ID+地区&#xa;是低价值广告">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="406" y="2425" />
              <mxPoint x="406" y="2455" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-77" parent="ZkTm3aSHAklMv9n6L5dm-76" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="21" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="-57" y="-22" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-78" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-2" style="curved=1;endArrow=block;rounded=0;" target="ZkTm3aSHAklMv9n6L5dm-2" value="过滤该广告&#xa;记录诊断日志 filter_type=低价值广告">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="406" y="2574" />
              <mxPoint x="406" y="2604" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-79" parent="ZkTm3aSHAklMv9n6L5dm-78" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="22" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="-57" y="-22" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-80" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-2" style="curved=1;endArrow=block;rounded=0;" target="ZkTm3aSHAklMv9n6L5dm-2" value="保留该广告">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="406" y="2723" />
              <mxPoint x="406" y="2753" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-81" parent="ZkTm3aSHAklMv9n6L5dm-80" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="23" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="-57" y="-22" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-82" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="ZkTm3aSHAklMv9n6L5dm-1" value="返回过滤后的广告列表">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="237" y="2960" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-83" parent="ZkTm3aSHAklMv9n6L5dm-82" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="24" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="123.5" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-84" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-5" style="curved=1;endArrow=block;rounded=0;" target="ZkTm3aSHAklMv9n6L5dm-5" value="执行自动降级&#xa;（见阶段2降级逻辑）">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1225" y="3179" />
              <mxPoint x="1225" y="3209" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-85" parent="ZkTm3aSHAklMv9n6L5dm-84" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="25" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="-57" y="-22" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-86" edge="1" parent="1" source="ZkTm3aSHAklMv9n6L5dm-5" style="curved=1;endArrow=block;rounded=0;" target="ZkTm3aSHAklMv9n6L5dm-5" value="捕获异常">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1225" y="3347" />
              <mxPoint x="1225" y="3377" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-87" parent="ZkTm3aSHAklMv9n6L5dm-86" style="ellipse;aspect=fixed;fillColor=#000000;align=center;fontColor=#FFFFFF;" value="26" vertex="1">
          <mxGeometry height="14" relative="1" width="14" as="geometry">
            <mxPoint x="-57" y="-22" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-88" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="阶段1: 数据写入（每小时执行）" vertex="1">
          <mxGeometry height="49" width="450" x="1758" y="115" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-89" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="每小时输出最近24小时的统计结果" vertex="1">
          <mxGeometry height="49" width="450" x="1758" y="509" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-90" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="阶段2: recall-job数据预加载（定时执行）" vertex="1">
          <mxGeometry height="49" width="282" x="917" y="588" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-91" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="自动降级触发" vertex="1">
          <mxGeometry height="49" width="214" x="1067" y="1269" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-92" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="版本降级：复用上一版本数据" vertex="1">
          <mxGeometry height="49" width="230" x="1059" y="1489" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-93" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="开关降级：放开过滤，不做任何过滤" vertex="1">
          <mxGeometry height="49" width="278" x="1035" y="1584" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-94" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="数据预加载完成，供recall-service使用" vertex="1">
          <mxGeometry height="49" width="282" x="917" y="1705" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-95" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="阶段3: 广告过滤请求流程（实时请求）" vertex="1">
          <mxGeometry height="49" width="897" x="70" y="1805" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-96" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="不执行过滤，全部通过" vertex="1">
          <mxGeometry height="49" width="270" x="220" y="2869" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-97" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="异常处理分支" vertex="1">
          <mxGeometry height="49" width="659" x="1149" y="3010" as="geometry" />
        </mxCell>
        <mxCell id="ZkTm3aSHAklMv9n6L5dm-98" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="开关降级：全部放开&#xa;（非核心Processor，异常时自动放开）" vertex="1">
          <mxGeometry height="68" width="296" x="1026" y="3397" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
