<mxfile host="app.diagrams.net" modified="2023-09-21T07:08:48.648Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36" etag="tTe_S-8SI0eI1TXm5v2M" version="21.7.5" type="github">
  <diagram name="第 1 页" id="Zjm2JlXs56T9bLfwZ5cv">
    <mxGraphModel dx="3694" dy="1805" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-2" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="239" y="414" as="sourcePoint" />
            <mxPoint x="1179" y="414" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-8" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" parent="1" vertex="1">
          <mxGeometry x="-421" y="50" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-12" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" parent="1" vertex="1">
          <mxGeometry x="409" y="444" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-15" value="现实时间序列" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="154" y="344" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-16" value="数据覆盖情况一：&lt;br&gt;一次循环处理一秒的数据，进入循环，时间有交集" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="-10" y="451" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-17" style="edgeStyle=orthogonalEdgeStyle;shape=flexArrow;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="8eTx1scZpe6bk8PXPmwQ-12" target="8eTx1scZpe6bk8PXPmwQ-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-18" value="00:00:51.000" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="275" y="378" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-22" value="00:00:51.000" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="249" y="421" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-23" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" parent="1" vertex="1">
          <mxGeometry x="459" y="474" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-24" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;00:00:52.000&lt;br&gt;&lt;/span&gt;&lt;/div&gt;(00:00:51.6)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="484" y="425" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-26" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" parent="1" vertex="1">
          <mxGeometry x="299" y="444" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-27" value="t1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-451" y="18" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-28" value="id1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-456" y="78" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-29" value="t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-316" y="20" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-30" value="id2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-316" y="80" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-31" value="t1=t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="329" y="444" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-32" value="如果t1=t2，下一个区间数据的开始点为：&amp;gt;=t2&amp;nbsp; &amp;gt;id2&lt;br&gt;如果t1&amp;lt;t2，下一个区间数据的开始点为: &amp;gt;=t2 null" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-252" y="27" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-34" value="t1&amp;lt;t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="439" y="444" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-36" value="t1=t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="489" y="504" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-37" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" parent="1" vertex="1">
          <mxGeometry x="569" y="474" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-42" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" parent="1" vertex="1">
          <mxGeometry x="773" y="504" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-44" value="t1=t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="599" y="504" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-45" value="t1&amp;lt;t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="709" y="504" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-46" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" parent="1" vertex="1">
          <mxGeometry x="679" y="474" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-50" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" parent="1" vertex="1">
          <mxGeometry x="883" y="504" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-52" value="t1=t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="803" y="534" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-53" value="t1=t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="909" y="534" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-54" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" parent="1" vertex="1">
          <mxGeometry x="993" y="504" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="8eTx1scZpe6bk8PXPmwQ-55" value="t1&amp;lt;t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1029" y="534" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-2" value="&lt;font color=&quot;#ff3333&quot; style=&quot;font-size: 36px;&quot;&gt;增量更新&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="-36" y="384" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-94" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="414" y="344" as="sourcePoint" />
            <mxPoint x="414" y="404" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-97" value="&lt;font style=&quot;font-size: 6px;&quot;&gt;id=1&lt;br&gt;valid_state=1&lt;br&gt;updateTime=9:51:00&lt;br&gt;(9:51.10)&lt;/font&gt;" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="134" y="534" width="115" height="65" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-98" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=-0.079;exitY=0.077;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="8eTx1scZpe6bk8PXPmwQ-26" target="Ntxb1XvlZdcsDZPh0-gk-97" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="254" y="534" as="sourcePoint" />
            <mxPoint x="304" y="484" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-102" value="如果每次往前推进一秒 需要保证一秒内的数据量不能小于每次拉取的limit数据长度&lt;br&gt;limit数据量够大的话 结束beginId的循环时 updatetime的最大更新时间不会和lastUpdatime只差一秒钟&lt;br&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1280" y="65" width="560" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-103" value="在0~499毫秒之间修改数据，updateTime往前，往前的数据已经被加载到本地了&lt;br&gt;在500~1000毫秒之间修改数据，updateTime往后，往后的数据会被下一次加载" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="331" y="659" width="440" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-114" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="Ntxb1XvlZdcsDZPh0-gk-110" target="Ntxb1XvlZdcsDZPh0-gk-113" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1850" y="385" />
              <mxPoint x="-1850" y="420" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-118" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="Ntxb1XvlZdcsDZPh0-gk-110" target="Ntxb1XvlZdcsDZPh0-gk-117" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-110" value="isDataOverSelectLimit" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="-1415" y="335" width="170" height="100" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-112" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="Ntxb1XvlZdcsDZPh0-gk-111" target="Ntxb1XvlZdcsDZPh0-gk-110" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-111" value="获取锁&lt;br&gt;lastUpdatetime = xxx&lt;br&gt;limit = xxx&lt;br&gt;maxUpdateTime = 0L&lt;br&gt;isDataOverSelectLimit=true" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="-1430" y="130" width="200" height="100" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-113" value="结束&lt;br&gt;释放锁" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="-1910" y="420" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-115" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1445" y="350" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-123" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="Ntxb1XvlZdcsDZPh0-gk-117" target="Ntxb1XvlZdcsDZPh0-gk-122" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-117" value="select *&lt;br&gt;from intent_token&lt;br&gt;where updateTime &amp;gt;= #{lastUptdateTime}&lt;br&gt;order by updateTime, id&lt;br&gt;limit #{limit}" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="-1467.5" y="530" width="275" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-119" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1320" y="430" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-144" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="Ntxb1XvlZdcsDZPh0-gk-122" target="Ntxb1XvlZdcsDZPh0-gk-143" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-122" value="数据判空" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1405" y="722" width="150" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-126" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1420" y="730" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-131" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="Ntxb1XvlZdcsDZPh0-gk-143" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1225" y="955.0000000000002" as="sourcePoint" />
            <mxPoint x="-1040" y="955" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-147" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="Ntxb1XvlZdcsDZPh0-gk-137" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-905" y="1138" />
            </Array>
            <mxPoint x="-904.9411764705883" y="1029.967320261438" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-132" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1315" y="798" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-133" value="Timestamp loop 负责这一秒的数据处理&lt;br&gt;(Timestamp updateTime, 这一秒的数据超过过了limit&lt;br&gt;int limit, &lt;br&gt;&lt;div style=&quot;&quot;&gt;Boolean isDataOverSelectLimit,&amp;nbsp; 对象类型 &lt;br&gt;假设updateTime是9:00 一共600条 同时也是数据库最后的600条 而limit是500，处理完之后&lt;/div&gt;isDataOverSelectLimit应该是false&lt;div style=&quot;&quot;&gt;跳转到上层方法后isDataOverSelect也应该从进来的true变成false，否则会死循环&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;Set&amp;lt;Long&amp;gt; tmpIncModuleIdSet&amp;nbsp; &amp;nbsp;updateToken要用&lt;br&gt;)&amp;nbsp;&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="-740" y="1110" width="345" height="220" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-140" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="Ntxb1XvlZdcsDZPh0-gk-137" target="Ntxb1XvlZdcsDZPh0-gk-139" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-137" value="updateIntentToken" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1390" y="1108" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-149" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="Ntxb1XvlZdcsDZPh0-gk-139" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1610" y="1248" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-139" value="maxUpdateTime = t2" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1750" y="1108" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-143" value="isDataOverSelectLimit" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1410" y="927.5" width="160" height="55" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-145" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-770" y="922" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-146" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-950" y="1038" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ntxb1XvlZdcsDZPh0-gk-150" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1350" y="280" as="targetPoint" />
            <mxPoint x="-1770" y="1283.9999999999995" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="-2300" y="1284" />
              <mxPoint x="-2300" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-1" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="239" y="414" as="sourcePoint" />
            <mxPoint x="1179" y="414" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-2" value="00:00:52.000" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="566" y="374" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-5" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" parent="1" vertex="1">
          <mxGeometry x="-421" y="50" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-6" value="00:00:51.500" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="429" y="374" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-8" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" parent="1" vertex="1">
          <mxGeometry x="409" y="444" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-9" value="00:00:51.000&lt;br&gt;(00:00:51.3)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="360" y="422" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-10" value="现实时间序列" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="154" y="344" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-12" style="edgeStyle=orthogonalEdgeStyle;shape=flexArrow;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="Mguj6qo9-BzR1XpOUaJ4-8" target="Mguj6qo9-BzR1XpOUaJ4-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-18" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" parent="1" vertex="1">
          <mxGeometry x="299" y="444" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-19" value="t1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-451" y="18" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-20" value="id1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-456" y="78" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-21" value="t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-316" y="20" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-22" value="id2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-316" y="80" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-23" value="t1=t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="329" y="444" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-25" value="t1&amp;lt;t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="439" y="444" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-27" value="t1=t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="489" y="504" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-33" value="t1=t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="599" y="504" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-34" value="t1&amp;lt;t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="709" y="504" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-38" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" parent="1" vertex="1">
          <mxGeometry x="883" y="504" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-41" value="t1=t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="909" y="534" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-42" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" parent="1" vertex="1">
          <mxGeometry x="993" y="504" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-43" value="t1&amp;lt;t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1029" y="534" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-46" value="&lt;font color=&quot;#ff3333&quot; style=&quot;font-size: 36px;&quot;&gt;增量更新&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="-36" y="384" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-92" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="414" y="344" as="sourcePoint" />
            <mxPoint x="414" y="404" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-93" value="&lt;b&gt;&lt;font color=&quot;#ff3333&quot;&gt;问题一：数据丢失&lt;/font&gt;&lt;br&gt;00:00:51.4&lt;br&gt;修改数据 id=1&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="350" y="284" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-94" value="&lt;font style=&quot;font-size: 6px;&quot;&gt;id=1&lt;br&gt;valid_state=1&lt;br&gt;updateTime=9:51:00&lt;br&gt;(9:51.10)&lt;/font&gt;" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="134" y="534" width="115" height="65" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-95" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=-0.079;exitY=0.077;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="Mguj6qo9-BzR1XpOUaJ4-18" target="Mguj6qo9-BzR1XpOUaJ4-94" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="254" y="534" as="sourcePoint" />
            <mxPoint x="304" y="484" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-99" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="Mguj6qo9-BzR1XpOUaJ4-101" target="Mguj6qo9-BzR1XpOUaJ4-104" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1850" y="385" />
              <mxPoint x="-1850" y="420" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-100" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="Mguj6qo9-BzR1XpOUaJ4-101" target="Mguj6qo9-BzR1XpOUaJ4-107" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-101" value="isDataOverSelectLimit" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="-1415" y="335" width="170" height="100" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-102" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="Mguj6qo9-BzR1XpOUaJ4-103" target="Mguj6qo9-BzR1XpOUaJ4-101" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-103" value="获取锁&lt;br&gt;lastUpdatetime = xxx&lt;br&gt;limit = xxx&lt;br&gt;maxUpdateTime = 0L&lt;br&gt;isDataOverSelectLimit=true" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="-1430" y="130" width="200" height="100" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-104" value="结束&lt;br&gt;释放锁" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="-1910" y="420" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-105" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1445" y="350" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-106" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="Mguj6qo9-BzR1XpOUaJ4-107" target="Mguj6qo9-BzR1XpOUaJ4-111" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-107" value="select *&lt;br&gt;from intent_token&lt;br&gt;where updateTime &amp;gt;= #{lastUptdateTime}&lt;br&gt;order by updateTime, id&lt;br&gt;limit #{limit}" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="-1467.5" y="530" width="275" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-108" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1320" y="430" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-110" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="Mguj6qo9-BzR1XpOUaJ4-111" target="Mguj6qo9-BzR1XpOUaJ4-125" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-236" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Mguj6qo9-BzR1XpOUaJ4-111" target="ujubCkocFbaikDBOblAJ-235">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-111" value="列表数据判空" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1405" y="722" width="150" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-115" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="Mguj6qo9-BzR1XpOUaJ4-116" target="Mguj6qo9-BzR1XpOUaJ4-121" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-905" y="1138" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-116" value="isDataOverSelectLimit=true 有剩余数据加载&lt;br&gt;并且&lt;br&gt;首条数据和末条数据updateTime相同" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1050" y="873" width="300" height="160" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-117" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1315" y="798" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-118" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="Mguj6qo9-BzR1XpOUaJ4-119" target="Mguj6qo9-BzR1XpOUaJ4-132" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-119" value="Timestamp loop 负责这一秒的数据处理&lt;br&gt;&lt;br&gt;&lt;br&gt;参数说明：&lt;br&gt;(Timestamp updateTime, 这一秒的数据超过过了limit&lt;br&gt;int limit, &lt;br&gt;&lt;div style=&quot;&quot;&gt;Boolean isDataOverSelectLimit,&amp;nbsp; 对象类型 &lt;br&gt;假设updateTime是9:00 一共600条 同时也是数据库最后的600条 而limit是500，处理完之后&lt;/div&gt;isDataOverSelectLimit应该是false&lt;div style=&quot;&quot;&gt;跳转到上层方法后isDataOverSelect也应该从进来的true变成false，否则会死循环&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;Set&amp;lt;Long&amp;gt; tmpIncModuleIdSet&amp;nbsp; &amp;nbsp;updateToken需要用&lt;br&gt;)&amp;nbsp;&lt;/span&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="-740" y="1110" width="345" height="220" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-120" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="Mguj6qo9-BzR1XpOUaJ4-121" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1470" y="1138" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-121" value="updateIntentToken" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1390" y="1108" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-123" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" target="Mguj6qo9-BzR1XpOUaJ4-130" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1610" y="1108" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-125" value="赋值isDataOverSelectLimit" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1410" y="927.5" width="160" height="55" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-240" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Mguj6qo9-BzR1XpOUaJ4-126" target="ujubCkocFbaikDBOblAJ-239">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-126" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-770" y="922" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-127" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-950" y="1038" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-128" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="Mguj6qo9-BzR1XpOUaJ4-129" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1350" y="280" as="targetPoint" />
            <mxPoint x="-1800.1099999999994" y="1384.0000000000005" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="-2300" y="1284" />
              <mxPoint x="-2300" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-129" value="lastUpdateTime=maxUpdateTime" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1770" y="1258" width="320" height="72" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-130" value="不会漏数据，情况详见右图" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1650" y="958" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-249" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Mguj6qo9-BzR1XpOUaJ4-132" target="ujubCkocFbaikDBOblAJ-248">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-132" value="loop = 1&lt;br&gt;maxUpdateTime = updateTime&amp;nbsp; 就是需要处理的这一秒种" style="whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="-1180" y="1500" width="380" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-134" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="340" y="1732" as="sourcePoint" />
            <mxPoint x="1280" y="1732" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-135" value="00:00:52.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="455" y="1692" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-136" value="00:00:51.50" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="320" y="1692" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-137" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" parent="1" vertex="1">
          <mxGeometry x="445" y="1402" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-138" value="00:00:52.50" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="600" y="1692" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-139" value="现实时间序列" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="160" y="1672" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-140" value="数据覆盖情况三：&lt;br&gt;不进入循环,且数据updateTime和现实时间无交集" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="70" y="1792" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-141" value="&lt;b&gt;程序拉取到的区间数据 order by updatime，id&lt;br&gt;t1和t2是数据的updateTime（Timestamp），TimeStamp会四舍五入&lt;br&gt;id1和id2分别是区间的首尾条数据的id&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="45" y="1382" width="400" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-142" value="id1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="410" y="1430" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-143" value="id2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="550" y="1432" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-144" value="如果t1=t2，下一个区间数据的开始点为：&amp;gt;=t2&amp;nbsp; &amp;gt;id2&lt;br&gt;如果t1&amp;lt;t2，下一个区间数据的开始点为: &amp;gt;=t2 null" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="95" y="1445" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-145" value="&lt;font color=&quot;#ff3333&quot; style=&quot;font-size: 36px;&quot;&gt;增量更新&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="-40" y="1722" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-146" value="&lt;font style=&quot;font-size: 6px;&quot;&gt;id=1&lt;br&gt;valid_state=1&lt;br&gt;updateTime=00:00:41.00&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="175" y="1852" width="155" height="65" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-147" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=-0.177;exitY=0.13;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="Mguj6qo9-BzR1XpOUaJ4-149" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="410" y="1794.3700000000003" as="sourcePoint" />
            <mxPoint x="335.84765228003994" y="1852" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-149" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" parent="1" vertex="1">
          <mxGeometry x="360" y="1762" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-150" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" parent="1" vertex="1">
          <mxGeometry x="630" y="1822" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-151" value="t1 00:00:40.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="270" y="1762" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-152" value="t2 00:00:50.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="490" y="1762" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-166" value="t1 00:00:50.00&lt;br&gt;&amp;nbsp; &amp;nbsp; (00:00:49.50)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="380" y="1802" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-167" value="&lt;b&gt;update&lt;br&gt;id=1&lt;br&gt;&lt;/b&gt;&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;00:00:51.60&lt;/b&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="465" y="1942" width="90" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-168" value="t2 00:00:51.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="640" y="1797" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-169" value="时:分:秒.毫秒" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="240" y="1672" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-170" value="丢数据核心问题：&lt;br&gt;1.数据覆盖是否连续&lt;br&gt;2.加载过程中，已被加载到本地的数据在数据库被修改了，是否会重新载入这条数据" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="-120" y="214" width="470" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-172" value="&lt;font style=&quot;font-size: 6px;&quot;&gt;id=1&lt;br&gt;&lt;font color=&quot;#ff3333&quot;&gt;valid_state=0&lt;br&gt;updateTime=00:00:52.00&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="740" y="1912" width="155" height="65" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-173" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="325" y="1932" as="sourcePoint" />
            <mxPoint x="730" y="1932" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-174" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" parent="1" vertex="1">
          <mxGeometry x="485" y="1792" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-175" value="t1 00:00:51.00&lt;br&gt;（00:00:50:49)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="570" y="1852" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-176" value="t2 00:00:52.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="767.5" y="1857" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mguj6qo9-BzR1XpOUaJ4-177" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0.342;entryY=-0.045;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="Mguj6qo9-BzR1XpOUaJ4-150" target="Mguj6qo9-BzR1XpOUaJ4-172" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="787.1500000000001" y="1857" as="sourcePoint" />
            <mxPoint x="744.9976522800398" y="1912" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-2" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="340" y="2162" as="sourcePoint" />
            <mxPoint x="1280" y="2162" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-3" value="00:00:52.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="650" y="2122" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-4" value="00:00:51.50" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="410" y="2122" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-5" value="00:00:52.50" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="890" y="2122" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-6" value="现实时间序列" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="160" y="2102" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-7" value="数据覆盖情况四：&lt;br&gt;不进入循环,且数据updateTime和现实时间有交集" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="70" y="2222" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-8" value="&lt;font style=&quot;font-size: 6px;&quot;&gt;id=1&lt;br&gt;valid_state=1&lt;br&gt;updateTime=00:00:41.00&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="175" y="2282" width="155" height="65" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-9" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=-0.177;exitY=0.13;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-10">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="410" y="2224.3700000000003" as="sourcePoint" />
            <mxPoint x="335.84765228003994" y="2282" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-10" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="360" y="2192" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-12" value="t1 00:00:50.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="270" y="2192" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-13" value="t2 00:00:52.00&lt;br&gt;（00:00:51.51)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="490" y="2177" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-14" value="t1 00:00:52.00&lt;br&gt;&amp;nbsp; &amp;nbsp; (00:00:51.49)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="380" y="2232" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-15" value="&lt;b&gt;update&lt;br&gt;id=1&lt;br&gt;&lt;/b&gt;&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;00:00:51.60&lt;/b&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="400" y="2372" width="90" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-17" value="时:分:秒.毫秒" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="240" y="2102" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-18" value="&lt;font style=&quot;font-size: 6px;&quot;&gt;id=1&lt;br&gt;&lt;font color=&quot;#ff3333&quot;&gt;valid_state=0&lt;br&gt;updateTime=00:00:52.00&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="642.5" y="2312" width="155" height="65" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-19" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="325" y="2362" as="sourcePoint" />
            <mxPoint x="590" y="2362" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-20" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="485" y="2222" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-23" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0.342;entryY=-0.045;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-20">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="614.2657544224767" y="2257" as="sourcePoint" />
            <mxPoint x="680" y="2314.075" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-25" value="" style="endArrow=classic;html=1;rounded=0;entryX=2.188;entryY=0.363;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" target="Mguj6qo9-BzR1XpOUaJ4-149">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="1932" as="sourcePoint" />
            <mxPoint x="550" y="1852" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-26" value="&lt;font color=&quot;#ff3333&quot; style=&quot;font-size: 36px;&quot;&gt;增量更新&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-50" y="2142" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-27" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1810" y="322" as="sourcePoint" />
            <mxPoint x="2750" y="322" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-28" value="1000" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="2150" y="282" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-29" value="2000" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="2470" y="282" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-30" value="1500" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="2319" y="282" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-31" value="500" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="2005" y="282" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-32" value="2500" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="2630" y="282" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-33" value="1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1865" y="282" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-34" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="1880" y="332" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-35" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="2030" y="362" width="150" height="58" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-36" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1800" y="352" as="sourcePoint" />
            <mxPoint x="1800" y="780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-37" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="1785" y="122" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-38" value="id1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1750" y="167" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-39" value="id2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1940" y="167" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-40" value="t1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1770" y="92" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-41" value="t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1925" y="92" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-42" value="t1 ??? t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1825" y="80" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-43" value="&lt;b&gt;区间数据 order by id&lt;br&gt;t1和t2是Timestamp，现实时间的四舍五入&lt;br&gt;id1和id2分别是区间的首尾条数据的id&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1750" y="197" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-44" value="id1 &amp;lt; id2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1825" y="160" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-45" value="Text" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1755" y="258" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-46" value="现实时间序列" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1690" y="352" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-47" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="2180" y="392" width="150" height="68" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-48" value="DB&lt;br&gt;id = 400&lt;br&gt;valid_state=1&lt;br&gt;updateTIme = 9:00" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1895" y="362" width="120" height="58" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-49" value="9:20:00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1725" y="370" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-50" value="9:21:00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1725" y="420" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-51" value="DB&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;id = 400&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font color=&quot;#ff3333&quot;&gt;valid_state=0&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;updateTIme = 9:22&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1895" y="452" width="120" height="58" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-52" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="2330" y="422" width="150" height="98" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-53" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="2480" y="454" width="150" height="146" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-54" value="9:22:00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1730" y="468" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-55" value="9:25:00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1730" y="534" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-56" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1954.82" y="421" as="sourcePoint" />
            <mxPoint x="1955" y="453" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-57" value="本地内存&lt;br&gt;lastUpdateTIme=9：25" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2060" y="70" width="390" height="150" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-58" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="1" target="ujubCkocFbaikDBOblAJ-57">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1950" y="322" as="sourcePoint" />
            <mxPoint x="2000" y="272" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-59" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-35">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2060" y="347" as="sourcePoint" />
            <mxPoint x="2120" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-60" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2264" y="393" as="sourcePoint" />
            <mxPoint x="2160" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-61" value="id = 400&lt;br&gt;valid_state=1&lt;br&gt;updateTIme = 9:00" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2069" y="130" width="111" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-62" value="&lt;font color=&quot;#ff3333&quot;&gt;update&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1825" y="466" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-63" value="&lt;font color=&quot;#ff3333&quot;&gt;insert&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="2525" y="490" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-64" value="DB&lt;br&gt;id = 2200&lt;br&gt;valid_state=1&lt;br&gt;updateTIme = 9:25" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2495" y="520" width="120" height="58" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-65" value="9:26:00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1730" y="624" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-66" value="id = 2200&lt;br&gt;valid_state=1&lt;br&gt;updateTIme = 9:25" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2319" y="131" width="120" height="58" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-67" value="DB&lt;br&gt;id = 2200&lt;br&gt;valid_state=1&lt;br&gt;updateTIme = 9:25" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2495" y="610" width="120" height="58" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-68" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.75;exitDx=0;exitDy=0;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-67">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2480" y="383.5" as="sourcePoint" />
            <mxPoint x="2376" y="210.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-69" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" target="ujubCkocFbaikDBOblAJ-64">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1810" y="550" as="sourcePoint" />
            <mxPoint x="2270" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-70" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1810" y="639.4100000000001" as="sourcePoint" />
            <mxPoint x="2495" y="638.4100000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-71" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1810" y="322" as="sourcePoint" />
            <mxPoint x="2750" y="322" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-72" value="1000" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="2150" y="282" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-73" value="2000" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="2470" y="282" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-74" value="1500" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="2319" y="282" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-75" value="500" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="2005" y="282" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-76" value="2500" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="2630" y="282" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-77" value="1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1865" y="282" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-78" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="1880" y="332" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-79" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="2030" y="362" width="150" height="58" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-80" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1800" y="352" as="sourcePoint" />
            <mxPoint x="1800" y="780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-81" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="1785" y="122" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-82" value="id1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1750" y="167" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-83" value="id2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1940" y="167" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-84" value="t1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1770" y="92" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-85" value="t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1925" y="92" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-86" value="t1 ??? t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1825" y="80" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-87" value="&lt;b&gt;区间数据 order by id&lt;br&gt;t1和t2是Timestamp，现实时间的四舍五入&lt;br&gt;id1和id2分别是区间的首尾条数据的id&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1750" y="197" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-88" value="id1 &amp;lt; id2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1825" y="160" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-89" value="Text" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1755" y="258" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-90" value="现实时间序列" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1690" y="352" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-91" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="2180" y="392" width="150" height="68" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-92" value="DB&lt;br&gt;id = 400&lt;br&gt;valid_state=1&lt;br&gt;updateTIme = 9:00" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1895" y="362" width="120" height="58" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-93" value="9:20:00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1725" y="370" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-94" value="9:21:00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1725" y="420" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-95" value="DB&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;id = 400&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font color=&quot;#ff3333&quot;&gt;valid_state=0&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;updateTIme = 9:22&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1895" y="452" width="120" height="58" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-96" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="2330" y="422" width="150" height="98" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-97" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="2480" y="454" width="150" height="146" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-98" value="9:22:00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1730" y="468" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-99" value="9:25:00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1730" y="534" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-100" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1954.82" y="421" as="sourcePoint" />
            <mxPoint x="1955" y="453" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-101" value="本地内存&lt;br&gt;lastUpdateTIme=9：25" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2060" y="70" width="390" height="150" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-102" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="1" target="ujubCkocFbaikDBOblAJ-101">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1950" y="322" as="sourcePoint" />
            <mxPoint x="2000" y="272" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-103" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-79">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2060" y="347" as="sourcePoint" />
            <mxPoint x="2120" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-104" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2264" y="393" as="sourcePoint" />
            <mxPoint x="2160" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-105" value="id = 400&lt;br&gt;valid_state=1&lt;br&gt;updateTIme = 9:00" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2069" y="130" width="111" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-106" value="&lt;font color=&quot;#ff3333&quot;&gt;update&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1825" y="466" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-107" value="&lt;font color=&quot;#ff3333&quot;&gt;insert&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="2525" y="490" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-108" value="DB&lt;br&gt;id = 2200&lt;br&gt;valid_state=1&lt;br&gt;updateTIme = 9:25" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2495" y="520" width="120" height="58" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-109" value="9:26:00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1730" y="624" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-110" value="id = 2200&lt;br&gt;valid_state=1&lt;br&gt;updateTIme = 9:25" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2319" y="131" width="120" height="58" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-111" value="DB&lt;br&gt;id = 2200&lt;br&gt;valid_state=1&lt;br&gt;updateTIme = 9:25" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2495" y="610" width="120" height="58" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-112" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.75;exitDx=0;exitDy=0;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-111">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2480" y="383.5" as="sourcePoint" />
            <mxPoint x="2376" y="210.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-113" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" target="ujubCkocFbaikDBOblAJ-108">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1810" y="550" as="sourcePoint" />
            <mxPoint x="2270" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-114" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1810" y="639.4100000000001" as="sourcePoint" />
            <mxPoint x="2495" y="638.4100000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-115" value="&lt;font color=&quot;#ff3333&quot; style=&quot;font-size: 36px;&quot;&gt;全量更新&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1460" y="408" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-134" value="&lt;font color=&quot;#ff3333&quot; style=&quot;font-size: 36px;&quot;&gt;增量更新且不进入循环：&lt;br&gt;假设500条数据&lt;br&gt;300条 50秒&amp;nbsp; &amp;nbsp; &amp;nbsp;200条 51秒&lt;br&gt;最大时间是51秒&lt;br&gt;下次查询从50秒开始&lt;br&gt;死循环&lt;br&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="2390" y="-510" width="440" height="270" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-135" value="&lt;font color=&quot;#ff3333&quot; style=&quot;font-size: 36px;&quot;&gt;增量更新且进入循环：&lt;br&gt;假设500条数据&lt;br&gt;500条都是50秒&lt;br&gt;进入循环，根据beginId推进，时间不变&lt;br&gt;300条50秒 200条51秒&lt;br&gt;退出循环，最大时间51秒&lt;br&gt;下次查询从50秒开始&lt;br&gt;死循环&lt;br&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="3030" y="-520" width="660" height="360" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-136" value="&lt;span style=&quot;color: rgb(255, 51, 51); font-family: Helvetica; font-size: 36px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 700; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 251, 251); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;如果每次往前推一秒&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2820" y="-580" width="360" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-138" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="236" y="878" as="sourcePoint" />
            <mxPoint x="1176" y="878" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-140" value="09:54.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="646" y="834" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-141" value="09:53.50" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="484" y="834" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-143" value="09:53.50" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1046" y="838" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-144" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="406" y="908" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-145" value="09:51.00&lt;br&gt;(09:51.30)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="356" y="888" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-146" value="现实时间序列" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="151" y="808" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-147" value="数据覆盖情况二：&lt;br&gt;一次循环处理一秒的数据，进入循环，时间无交集" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-1" y="928" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-148" style="edgeStyle=orthogonalEdgeStyle;shape=flexArrow;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-144" target="ujubCkocFbaikDBOblAJ-144">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-150" value="09:51.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="261" y="898" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-151" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="456" y="938" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-152" value="09:52.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="486" y="898" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-153" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="296" y="908" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-154" value="t1=t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="326" y="908" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-155" value="t1&amp;lt;t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="436" y="908" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-156" value="09:52.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="421" y="938" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-157" value="t1=t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="486" y="968" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-158" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="566" y="938" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-159" value="09:52.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="536" y="938" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-160" value="09:52.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="646" y="938" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-161" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="770" y="968" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-162" value="09:53.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="756" y="938" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-163" value="t1=t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="596" y="968" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-164" value="t1&amp;lt;t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="706" y="968" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-165" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="676" y="938" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-166" value="09:53.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="740" y="998" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-167" value="09:53.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="846" y="998" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-168" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="880" y="968" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-169" value="09:53.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="956" y="998" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-170" value="t1=t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="800" y="998" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-171" value="t1=t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="906" y="998" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-172" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="990" y="968" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-173" value="t1&amp;lt;t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1026" y="998" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-174" value="09:54.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1076" y="998" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-175" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="1076" y="998" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-176" value="&lt;font color=&quot;#ff3333&quot; style=&quot;font-size: 36px;&quot;&gt;增量更新&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-39" y="848" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-177" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="411" y="808" as="sourcePoint" />
            <mxPoint x="411" y="868" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-178" value="&lt;b&gt;&lt;br&gt;09:53.30&lt;br&gt;修改数据 id=1&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="361" y="748" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-179" value="&lt;font style=&quot;font-size: 6px;&quot;&gt;id=1&lt;br&gt;valid_state=1&lt;br&gt;updateTime=9:51:00&lt;br&gt;(9:51.10)&lt;/font&gt;" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="1030" width="115" height="65" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-180" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=-0.079;exitY=0.077;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-153" target="ujubCkocFbaikDBOblAJ-179">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="251" y="998" as="sourcePoint" />
            <mxPoint x="301" y="948" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-183" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="236" y="878" as="sourcePoint" />
            <mxPoint x="1176" y="878" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-185" value="09:53.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="304" y="834" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-188" value="09:53.50" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1046" y="838" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-189" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="406" y="908" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-190" value="09:51.00&lt;br&gt;(09:51.30)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="356" y="888" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-191" value="现实时间序列" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="151" y="808" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-192" style="edgeStyle=orthogonalEdgeStyle;shape=flexArrow;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-189" target="ujubCkocFbaikDBOblAJ-189">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-194" value="09:51.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="261" y="898" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-195" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="456" y="938" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-196" value="09:52.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="486" y="898" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-197" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="296" y="908" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-198" value="t1=t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="326" y="908" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-199" value="t1&amp;lt;t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="436" y="908" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-200" value="09:52.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="421" y="938" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-201" value="t1=t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="486" y="968" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-202" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="566" y="938" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-203" value="09:52.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="536" y="938" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-204" value="09:52.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="646" y="938" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-205" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="770" y="968" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-206" value="09:53.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="756" y="938" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-207" value="t1=t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="596" y="968" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-208" value="t1&amp;lt;t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="706" y="968" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-209" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="676" y="938" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-210" value="09:53.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="740" y="998" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-211" value="09:53.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="846" y="998" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-212" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="880" y="968" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-213" value="09:53.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="956" y="998" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-214" value="t1=t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="800" y="998" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-215" value="t1=t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="906" y="998" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-216" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="990" y="968" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-217" value="t1&amp;lt;t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1026" y="998" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-218" value="09:54.00" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1076" y="998" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-219" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="1076" y="998" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-220" value="&lt;font color=&quot;#ff3333&quot; style=&quot;font-size: 36px;&quot;&gt;增量更新&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-39" y="848" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-225" value="&lt;font color=&quot;#ff3333&quot; style=&quot;font-size: 36px;&quot;&gt;Resource更新方法：&lt;br&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-82.5" y="-620" width="370" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-227" value="&lt;font color=&quot;#ff3333&quot; style=&quot;font-size: 36px;&quot;&gt;lastUpdateTime从Redis拉取后在本次增量就不推进了&lt;br&gt;增量前记录系统时间 增量后写入Redis作为下一次增量的lastUpdateTime&lt;br&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-486" y="-520" width="1190" height="100" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-228" value="&lt;font color=&quot;#ff3333&quot; style=&quot;font-size: 36px;&quot;&gt;单推进&lt;br&gt;updateTime是定量，不向前推进&lt;br&gt;beginId是变量，作为推进条件&lt;br&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-175" y="-330" width="550" height="140" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-229" value="&lt;font color=&quot;#ff3333&quot; style=&quot;font-size: 36px;&quot;&gt;在不引入新中间件的情况下&lt;br&gt;保证不丢失数据的情况下&lt;br&gt;尽量减少载入的重复数据&lt;br&gt;所以需要推进updateTime&lt;br&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="978" y="-550" width="460" height="190" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-230" value="&lt;font color=&quot;#ff3333&quot; style=&quot;font-size: 36px;&quot;&gt;双推进&lt;br&gt;updateTime是第一变量，向前推进&lt;br&gt;beginId是第二变量，在第一变量updateTime相同时 向前推进&lt;br&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="703" y="-330" width="1010" height="140" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-231" value="&lt;font color=&quot;#ff3333&quot; style=&quot;font-size: 36px;&quot;&gt;Detail更新方法：&lt;br&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1070" y="-640" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-232" value="&lt;font style=&quot;font-size: 6px;&quot;&gt;id=1&lt;br&gt;valid_state=0&lt;br&gt;updateTime=&lt;b style=&quot;border-color: var(--border-color); font-size: 12px;&quot;&gt;09:53.30&lt;/b&gt;&lt;br&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="770" y="1028" width="123" height="65" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-233" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="250" y="1060" as="sourcePoint" />
            <mxPoint x="760" y="1060" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-237" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-235" target="Mguj6qo9-BzR1XpOUaJ4-104">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-235" value="拉取数据结束" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1600" y="732" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-241" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-239" target="Mguj6qo9-BzR1XpOUaJ4-119">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-239" value="单独处理这一秒数据" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-627.5" y="938" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-243" value="&lt;font color=&quot;#ff3333&quot;&gt;&lt;b&gt;&lt;br&gt;往前推一秒会死循环&amp;nbsp; 不往前推一秒小概率丢数据&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;b style=&quot;border-color: var(--border-color); color: rgb(255, 51, 51);&quot;&gt;解决方案：&lt;/b&gt;&lt;font color=&quot;#ff3333&quot;&gt;&lt;b&gt;&lt;br&gt;退出循环的条件是t1&amp;lt;t2&lt;br&gt;那么之后的修改操作一定发生在t2之后&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;b style=&quot;border-color: var(--border-color); color: rgb(255, 51, 51);&quot;&gt;所以只需要将t1和t2之间的数据再拉取一遍即可保证不丢数据&lt;/b&gt;&lt;font color=&quot;#ff3333&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="356" y="670" width="340" height="100" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-245" value="&lt;b&gt;程序拉取到的区间数据 order by updatime，id&lt;br&gt;t1和t2是数据的updateTime（Timestamp），TimeStamp会四舍五入&lt;br&gt;id1和id2分别是区间的首尾条数据的id&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-305" y="-39" width="400" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-253" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-248" target="ujubCkocFbaikDBOblAJ-252">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-257" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-248" target="ujubCkocFbaikDBOblAJ-256">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-248" value="Loop&amp;gt;=0" style="rhombus;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="-1110" y="1672" width="240" height="150" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-251" value="&lt;font style=&quot;font-size: 36px;&quot;&gt;解决方案：&lt;br&gt;lastUpdateTime取全量更新前的时间（仍然存在一定量的重复数据，解决需要改造原代码，引入中间件)&lt;br&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1485" y="853" width="1650" height="100" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-255" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-252">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-2300" y="1327.4747721354167" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-252" value="maxUpdateTime=t2&lt;br&gt;返回的maxUpdateTime作为外层循环的查询条件&lt;br&gt;并且返回isDataOverLimit防止最后数据死循环" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1900" y="1705.5" width="280" height="83" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-254" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1155" y="1708" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-267" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-256" target="ujubCkocFbaikDBOblAJ-266">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-256" value="beginId=null" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-710" y="2140" width="170" height="77" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-258" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-860" y="1708" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-264" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.flowchart.on-page_reference;" vertex="1" parent="1">
          <mxGeometry x="-1010" y="1992" width="150" height="150" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-265" value="&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 251, 251); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;此处重复加载&lt;/span&gt;&lt;br style=&quot;border-color: var(--border-color); color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 251, 251); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 251, 251); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;同一updateTime的第一批数据&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1010" y="2042" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-269" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-266">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-625" y="2640" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-266" value="isDataOverSelectLimit" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-767.5" y="2319.75" width="285" height="164.5" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-273" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-271">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-612.5" y="2835" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-271" value="select *&lt;br&gt;from intent_token&lt;br&gt;where updateTime &amp;gt;= #{lastUptdateTime}&lt;br&gt;【if(beginId != null) and beginId &amp;gt; #{beginId}】&lt;br&gt;order by updateTime, id&lt;br&gt;limit #{limit}" style="whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="-750" y="2650" width="275" height="90" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-277" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-274" target="ujubCkocFbaikDBOblAJ-276">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-285" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-274">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-310" y="2970" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-274" value="列表数据判空" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-741.5" y="2840" width="258" height="90" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-281" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-276" target="ujubCkocFbaikDBOblAJ-266">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1040" y="2300" />
              <mxPoint x="-625" y="2300" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-276" value="isDataSelectLimit&amp;nbsp; = false" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="-1110" y="2852.5" width="189.5" height="65" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-279" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-775" y="2848" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-280" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-483.5" y="2840" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-288" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-286" target="ujubCkocFbaikDBOblAJ-287">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-286" value="isDataOverLimit赋值" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-361" y="2980" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-290" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-287" target="ujubCkocFbaikDBOblAJ-289">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-287" value="updateToken" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-361" y="3120" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-294" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-289" target="ujubCkocFbaikDBOblAJ-293">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-289" value="计算diff" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-361" y="3260" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-297" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-293" target="ujubCkocFbaikDBOblAJ-296">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-304" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-293" target="ujubCkocFbaikDBOblAJ-295">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-293" value="diff&amp;gt;1000" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-375.5" y="3410" width="149" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-300" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-295" target="ujubCkocFbaikDBOblAJ-298">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-307" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-295">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-301" y="3790" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-295" value="diff=1000" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-375.5" y="3560" width="149" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-301" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-296" target="ujubCkocFbaikDBOblAJ-298">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-296" value="loop = 0" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-590" y="3420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-310" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.123;entryY=0.611;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-298" target="ujubCkocFbaikDBOblAJ-248">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1065" y="2621" />
              <mxPoint x="-1360" y="2621" />
              <mxPoint x="-1360" y="1764" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-298" value="loop--" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1125" y="3420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-302" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-414" y="3570" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-303" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-425" y="3398" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-305" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-285" y="3488" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-306" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-282" y="3630" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-309" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-308">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-620" y="2300" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-20" y="3820" />
              <mxPoint x="-20" y="2300" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-308" value="beginId&amp;nbsp; = lastToken.id" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-375.5" y="3790" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-314" value="&lt;font color=&quot;#ff3333&quot;&gt;问题二：跳出循环时，往前推1秒是否会导致死循环？&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="749" y="40" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-317" value="&lt;div style=&quot;text-align: left;&quot;&gt;00:00:51.5~00:00:52.4&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;≈ 00:00:52.000&lt;/span&gt;&amp;nbsp;&lt;br&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="510" y="335" width="230" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-318" value="00:00:52.500" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="709" y="374" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-319" value="00:00:53.000" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="883" y="374" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-320" value="00:00:53.500" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1029" y="370" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-322" value="线上环境：单秒最大数据量是1900，但是不存在相邻两秒的数据量都很大的情况" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="140" y="-80" width="450" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-323" value="测试环境：单秒最大数据量是260，存在相邻两秒的数据量都很大的情况，如果把limit改成200就有问题" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="146" y="-50" width="560" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-324" value="默认limit=500" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="140" y="-110" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-325" value="00:00:53.000" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="713" y="534" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-326" value="00:00:53.000" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="749" y="474" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-327" value="00:00:52.000" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="636" y="474" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-328" value="00:00:52.000" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="529" y="474" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-329" value="00:00:54.000" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1066" y="569" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-330" value="00:00:53.000" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="956" y="500" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-331" value="00:00:53.000" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="839" y="504" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-332" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;direction=north;" vertex="1" parent="1">
          <mxGeometry x="1090" y="534" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-333" value="情况二：&lt;br&gt;limit500条 加载了300条 isDataOverLimit = false&lt;br&gt;说明数据库数据全都直接退出循环了&lt;br&gt;lastUpdateTIme = 00:00:52.000&lt;br&gt;定时任务执行下一轮增量的时候 会把时间推到00:00:51.000&lt;br&gt;如果有情况二的出现，那么也会死循环" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="875" y="87" width="340" height="100" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-334" value="情况一：&lt;br&gt;00:00:51~00:00:52&lt;br&gt;limit500条 加载满了500条&amp;nbsp;&amp;nbsp;isDataOverLimit = true&lt;br&gt;死循环" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="589" y="87" width="290" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-335" value="解决方案&lt;br&gt;1.limit配置合理&lt;br&gt;2.仅执行一次，避免死循环" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="315" y="553" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-337" value="推一秒也不能解决问题，假设51.4修改 51.000~53.000跳出循环，从52开始 ,数据丢失" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="325" y="218" width="470" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-462" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-342" target="ujubCkocFbaikDBOblAJ-461">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-342" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-1840.87" y="3770" width="443.5" height="140" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-445" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-442" target="ujubCkocFbaikDBOblAJ-444">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-507" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-442" target="ujubCkocFbaikDBOblAJ-506">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-442" value="数据量 == Limit？" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-1721.75" y="4650" width="201.75" height="100" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-443" value="获取锁&lt;br&gt;第一条数据为token1&amp;nbsp; &amp;nbsp; &amp;nbsp;最后一条数据为token2&lt;br&gt;token1的updateTime为t1&amp;nbsp; &amp;nbsp; &amp;nbsp; token2的updateTime为t2&lt;br&gt;token1的id为id1&amp;nbsp; &amp;nbsp; token2的id为id2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1770" y="3805" width="310" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-468" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-444" target="ujubCkocFbaikDBOblAJ-471">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-2037" y="5080" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-2037" y="5080" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-444" value="isDataOverLimit = true&lt;br&gt;说明数据库可能还有数据" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="-2150" y="4850" width="226.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-479" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-446" target="ujubCkocFbaikDBOblAJ-471">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1200" y="5080" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-446" value="isDataOverLimit = false&lt;br&gt;&lt;br&gt;说明数据库暂时没有数据了&lt;br&gt;&lt;br&gt;哪怕数据库正在添加数据&lt;br&gt;这些数据也是下一次定时增量的事情&lt;br&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="-1340" y="4850" width="280" height="120" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-451" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1760" y="4710" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-452" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1510" y="4710" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-459" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-453" target="ujubCkocFbaikDBOblAJ-458">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-490" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-453" target="ujubCkocFbaikDBOblAJ-489">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-453" value="while(isDataOverLimit)" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-1720" y="4130" width="200" height="100" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-458" value="释放锁&lt;br&gt;结束" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-2130" y="4250" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-460" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1740" y="4150" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-463" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-461" target="ujubCkocFbaikDBOblAJ-453">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-461" value="isDataOverLimit = true" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1689.9999999999998" y="3990" width="141.75" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-466" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1620" y="4230" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-476" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-471" target="ujubCkocFbaikDBOblAJ-475">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-482" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-471" target="ujubCkocFbaikDBOblAJ-481">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-471" value="isDataOverLimit?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-1733" y="5090" width="213" height="100" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-475" value="t1==t2?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-2440" y="5280" width="213" height="100" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-486" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-481" target="ujubCkocFbaikDBOblAJ-485">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-481" value="把最后的token信息提取到本地" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="-1295" y="5260" width="225" height="90" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-483" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1525" y="5148" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-519" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-485" target="ujubCkocFbaikDBOblAJ-518">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-485" value="lastUpdateTime = t2" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="-1261.25" y="5460" width="161.25" height="65" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-497" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-489" target="ujubCkocFbaikDBOblAJ-496">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-489" value="根据lastUpdateTime- 1&lt;br&gt;拉取limit条数据" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="-1690" y="4300" width="140" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-493" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-496" target="ujubCkocFbaikDBOblAJ-442">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1620" y="4540" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-503" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-496" target="ujubCkocFbaikDBOblAJ-458">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-496" value="有没有数据" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="-1690" y="4445" width="140" height="85" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-500" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1615" y="4528" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-504" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-1721.75" y="4445" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-508" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-506" target="ujubCkocFbaikDBOblAJ-446">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1200" y="4700" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-506" value="数据量 &amp;lt; limit" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="-1399.125" y="4670" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-521" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="ujubCkocFbaikDBOblAJ-518" target="ujubCkocFbaikDBOblAJ-453">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ujubCkocFbaikDBOblAJ-518" value="提示：isDataOverLimit=false" style="ellipse;whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="-980" y="4030" width="150.01" height="150" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
